<div class="container py-4" style="max-width:600px">
  <div class="d-flex align-items-center gap-3 mb-4">
    <a routerLink="/admin/usuarios" class="btn btn-outline-secondary btn-sm">← Usuarios</a>
    <h2 class="mb-0">Detalle de usuario</h2>
  </div>
  @if (cargando()) {
    <div class="text-center py-5"><div class="spinner-border text-success"></div></div>
  } @else if (usuario()) {
    <div class="card">
      <div class="card-body">
        <dl class="row mb-0">
          <dt class="col-4">Nombre</dt><dd class="col-8">{{ usuario()!.nombreCompleto }}</dd>
          <dt class="col-4">Email</dt><dd class="col-8">{{ usuario()!.email }}</dd>
          <dt class="col-4">Teléfono</dt><dd class="col-8">{{ usuario()!.telefono ?? '—' }}</dd>
          <dt class="col-4">Dirección</dt><dd class="col-8">{{ usuario()!.direccion ?? '—' }}</dd>
          <dt class="col-4">Ciudad</dt><dd class="col-8">{{ usuario()!.ciudad ?? '—' }}</dd>
          <dt class="col-4">Rol</dt><dd class="col-8">{{ usuario()!.roles[0]?.nombre ?? '—' }}</dd>
          <dt class="col-4">Estado</dt>
          <dd class="col-8">
            <span class="badge" [class]="usuario()!.activo ? 'bg-success' : 'bg-secondary'">
              {{ usuario()!.activo ? 'Activo' : 'Inactivo' }}
            </span>
          </dd>
          <dt class="col-4">Último acceso</dt><dd class="col-8">{{ usuario()!.ultimoAcceso | date:'dd/MM/yyyy HH:mm' }}</dd>
        </dl>
        <hr>
        <button class="btn" [class]="usuario()!.activo ? 'btn-outline-danger' : 'btn-outline-success'"
                (click)="toggleActivo()">
          {{ usuario()!.activo ? 'Desactivar usuario' : 'Activar usuario' }}
        </button>
      </div>
    </div>
  }
</div>
