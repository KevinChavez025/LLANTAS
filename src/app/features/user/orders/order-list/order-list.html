<div class="container py-4">
  <h2 class="mb-4">Mis Pedidos</h2>

  @if (cargando()) {
    <div class="text-center py-5"><div class="spinner-border text-success"></div></div>
  } @else if (error()) {
    <div class="alert alert-danger">Error al cargar pedidos. Intenta de nuevo.</div>
  } @else if (pedidos().length === 0) {
    <div class="text-center py-5">
      <div class="fs-1">ðŸ“¦</div>
      <h5 class="mt-3 text-muted">AÃºn no tienes pedidos</h5>
      <a routerLink="/catalogo" class="btn btn-success mt-3">Ver catÃ¡logo</a>
    </div>
  } @else {
    <div class="table-responsive">
      <table class="table table-hover align-middle">
        <thead class="table-light">
          <tr><th>NÂ° Pedido</th><th>Fecha</th><th>Total</th><th>Estado</th><th>Pago</th><th></th></tr>
        </thead>
        <tbody>
          @for (p of pedidos(); track p.id) {
            <tr>
              <td><strong>{{ p.numeroPedido }}</strong></td>
              <td>{{ p.fechaCreacion | date:'dd/MM/yyyy' }}</td>
              <td><strong>S/ {{ p.total | number:'1.2-2' }}</strong></td>
              <td><span class="badge" [class]="estadoBadge(p.estado)">{{ ESTADO_LABEL[p.estado] }}</span></td>
              <td>{{ PAGO_LABEL[p.estadoPago] }}</td>
              <td><a [routerLink]="['/usuario/pedidos', p.id]" class="btn btn-sm btn-outline-secondary">Ver</a></td>
            </tr>
          }
        </tbody>
      </table>
    </div>
  }
</div>
